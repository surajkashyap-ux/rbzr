(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{1031:function(e,t,a){"use strict";var n=a(2),l=a.n(n),r=a(1028),c=a(182);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(r.a)(e,l()({defaultTheme:c.a},t))}},1065:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var n=a(486),l=a(182);function r(){return Object(n.a)()||l.a}},1428:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=i(a(0)),c=i(a(1));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.reCalculateColumnCount=a.reCalculateColumnCount.bind(a);var n=void 0;return n=a.props.breakpointCols&&a.props.breakpointCols.default?a.props.breakpointCols.default:2,a.state={columnCount:n},a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),l(t,[{key:"componentDidMount",value:function(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCount)}},{key:"componentWillReceiveProps",value:function(){this.reCalculateColumnCount()}},{key:"componentWillUnmount",value:function(){window&&window.removeEventListener("resize",this.reCalculateColumnCount)}},{key:"reCalculateColumnCount",value:function(){var e=window&&window.innerWidth||1/0,t=this.props.breakpointCols;parseInt(t)>0&&(t={default:t});var a=1/0,n=t.default||2;for(var l in t){var r=parseInt(l);r>0&&e<=r&&r<a&&(a=r,n=t[l])}n=Math.max(1,parseInt(n)||1),this.state.columnCount!==n&&this.setState({columnCount:n})}},{key:"itemsInColumns",value:function(){for(var e=this.state.columnCount,t=new Array(e),a=this.props.children||[],n=0;n<a.length;n++){var l=n%e;t[l]||(t[l]=[]),t[l].push(a[n])}return t}},{key:"renderColumns",value:function(){var e=this.props,t=e.column,a=e.columnClassName,l=this.itemsInColumns(),c=100/l.length+"%";return l.map(function(e,l){return r.default.createElement("div",n({key:l,className:a,style:{width:c}},t),e)})}},{key:"render",value:function(){var e=this.props,t=(e.breakpointCols,e.columnClassName,e.column,function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["breakpointCols","columnClassName","column"]));return r.default.createElement("div",t,this.renderColumns())}}]),t}();o.propTypes={breakpointCols:c.default.object,columnClassName:c.default.string},o.defaultProps={breakpointCols:{},className:"my-masonry-grid",columnClassName:"my-masonry-grid_column"},t.default=o},2210:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(11),c=a(7),i=a(329),o=a(56),s=a.n(o),m="[NOTES APP] GET NOTES",u="[NOTES APP] SET SEARCH TEXT",d="[NOTES APP] OPEN NOTE DIALOG",p="[NOTES APP] CLOSE NOTE DIALOG",f="[NOTES APP] CREATE NOTE",b="[NOTES APP] UPDATE NOTE",h="[NOTES APP] REMOVE NOTE",E="[NOTES APP] TOGGLE VARIATE DESC SIZE";function v(){return{type:p}}var y="[NOTES APP] GET LABELS",g="[NOTES APP] LABELS DIALOG OPEN",x="[NOTES APP] LABELS DIALOG CLOSE",O="[NOTES APP] LABELS UPDATE LABELS";var N=a(51),C=a(28),k=a(8),j=a(5),w={entities:null,searchText:"",noteDialogId:null,variateDescSize:!0},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(k.a)({},e,{entities:j.a.keyBy(t.payload,"id")});case u:return Object(k.a)({},e,{searchText:t.searchText});case E:return Object(k.a)({},e,{variateDescSize:!e.variateDescSize});case d:return Object(k.a)({},e,{noteDialogId:t.payload});case p:return Object(k.a)({},e,{noteDialogId:null});case f:return Object(k.a)({},e,{entities:j.a.cloneDeep(j.a.assign(Object(C.a)({},t.note.id,t.note),e.entities))});case h:return Object(k.a)({},e,{entities:j.a.cloneDeep(j.a.omit(e.entities,[t.id])),noteDialogId:null});case b:return Object(k.a)({},e,{entities:j.a.cloneDeep(j.a.set(e.entities,t.note.id,t.note))});default:return e}},A={entities:{},labelsDialogOpen:!1},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:case O:return Object(k.a)({},e,{entities:j.a.keyBy(t.payload,"id")});case g:return Object(k.a)({},e,{labelsDialogOpen:!0});case x:return Object(k.a)({},e,{labelsDialogOpen:!1});default:return e}},T=Object(N.d)({notes:S,labels:I}),D=a(494),z=a(1005),P=a(129),L=a(17),_=a(1007),R=a(990),M=a(343),U=a(123),B=a(1003),F=a(508),H=a(1008),W=a(84),G=a.n(W),Y=a(76),V=a(1016),q=a(3);var J=function(e){return e.date?l.a.createElement(V.a,{icon:l.a.createElement(R.a,{className:"text-16 mr-0"},"access_time"),label:G()(e.date).format("MMM DD YY, h:mm A"),classes:Object(k.a)({root:Object(q.a)("h-24",e.className),label:"pl-4 pr-6 py-4 text-11",deleteIcon:"w-16 ml-0"},e.classes),variant:"outlined",onDelete:e.onDelete}):null},X=a(31);var Z=function(e){var t=Object(c.c)(function(e){return e.notesApp.labels.entities});if(!t)return null;var a=t[e.id];if(!a)return null;var n=e.linkable?{component:X.a,onClick:function(e){e.stopPropagation()},to:"/apps/notes/labels/".concat(a.handle,"/").concat(a.id)}:{};return l.a.createElement(V.a,Object.assign({},n,{label:a.name,classes:Object(k.a)({root:Object(q.a)("h-24",e.className),label:"px-6 py-4 text-11",deleteIcon:"w-16 ml-0"},e.classes),variant:"outlined",onDelete:e.onDelete}))};var K=function(e){var t=e||{};return{id:t.id||r.z.generateGUID(),title:t.title||"",description:t.description||"",archive:t.archive||!1,image:t.image||"",time:t.time||null,reminder:t.reminder||null,checklist:t.checklist||[],labels:t.labels||[]}},Q=a(10),$=a(512),ee=a(513),te=a(1014);var ae=function(e){function t(t){e.onListItemChange(j.a.setIn(e.item,t.target.name,"checkbox"===t.target.type?t.target.checked:t.target.value))}return e.item?l.a.createElement(ee.a,{className:"p-0",key:e.item.id,dense:!0},l.a.createElement(te.a,{className:"p-0",checked:e.item.checked,tabIndex:-1,disableRipple:!0,name:"checked",onChange:t,color:"default"}),l.a.createElement(M.a,{className:Object(q.a)("flex flex-1 mx-8",e.item.checked&&"line-through opacity-50"),name:"text",value:e.item.text,onChange:t,disableUnderline:!0}),l.a.createElement(F.a,{className:"w-32 h-32 mx-4 p-0","aria-label":"Delete",onClick:function(){return e.onListItemRemove(e.item.id)}},l.a.createElement(R.a,{fontSize:"small"},"delete"))):null};var ne=function(e){var t=e||{};return{id:t.id||r.z.generateGUID(),checked:t.checked||!1,text:t.text||""}};var le=function(e){var t=Object(P.b)({text:""}),a=t.form,n=t.handleChange,r=t.resetForm;function c(){return""===a.text}return l.a.createElement("form",{onSubmit:function(t){t.preventDefault(),c()||(e.onListItemAdd(new ne(a)),r())}},l.a.createElement(ee.a,{className:"p-0",dense:!0},l.a.createElement(F.a,{className:"w-32 h-32 -ml-4 mr-4 p-0","aria-label":"Add",type:"submit",disabled:c()},l.a.createElement(R.a,{fontSize:"small"},"add")),l.a.createElement(M.a,{className:"flex flex-1",name:"text",value:a.text,onChange:n,placeholder:"Add an item",disableUnderline:!0,autoFocus:!0})))};var re=function(e){function t(t){e.onCheckListChange(e.checklist.map(function(e){return e.id===t.id?t:e}))}function a(t){e.onCheckListChange(e.checklist.filter(function(e){return e.id!==t}))}return e.checklist?l.a.createElement("div",{className:e.className},l.a.createElement($.a,{dense:!0},e.checklist.map(function(e){return l.a.createElement(ae,{item:e,key:e.id,onListItemChange:t,onListItemRemove:a})}),l.a.createElement(le,{onListItemAdd:function(t){e.onCheckListChange([].concat(Object(Q.a)(e.checklist),[t]))}}))):null},ce=a(1223),ie=a(1222);var oe=function(e){var t=Object(n.useState)(!1),a=Object(L.a)(t,2),r=a[0],c=a[1],i=new Date(e.reminder);return l.a.createElement(n.Fragment,null,l.a.createElement(F.a,{className:"w-32 h-32 mx-4 p-0",onClick:function(){return c(!0)}},l.a.createElement(R.a,{fontSize:"small"},"notifications_active")),l.a.createElement(ce.MuiPickersUtilsProvider,{utils:ie.default},l.a.createElement(ce.DateTimePicker,{className:"hidden",open:r,onOpen:function(){return c(!0)},onClose:function(){return c(!1)},clearable:!0,showTodayButton:!0,disablePast:!0,value:i,onChange:e.onChange,DialogProps:{className:"prevent-add-close"}})))};var se=function(e){return l.a.createElement(n.Fragment,null,l.a.createElement("input",{accept:"image/*",className:"hidden",id:"button-file",type:"file",onChange:e.onChange}),l.a.createElement("label",{htmlFor:"button-file"},l.a.createElement(F.a,{className:"w-32 h-32 mx-4 p-0",component:"span"},l.a.createElement(R.a,{fontSize:"small"},"image"))))},me=a(509),ue=a(522),de=a(992);var pe=function(e){var t=Object(c.c)(function(e){return e.notesApp.labels.entities}),a=Object(n.useState)(null),r=Object(L.a)(a,2),i=r[0],o=r[1];function s(){o(null)}return l.a.createElement("div",null,l.a.createElement(F.a,{className:"w-32 h-32 mx-4 p-0",onClick:function(e){o(e.currentTarget)}},l.a.createElement(R.a,{fontSize:"small"},"label")),l.a.createElement(me.a,{hideBackdrop:!0,open:Boolean(i),anchorEl:i,onClose:s,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},className:"pointer-events-none",classes:{paper:"pointer-events-auto py-8 prevent-add-close"}},l.a.createElement(ue.a,{onClickAway:s},l.a.createElement($.a,{className:"p-0"},Object.entries(t).map(function(t){var a=Object(L.a)(t,2),n=(a[0],a[1]);return l.a.createElement(ee.a,{key:n.id,button:!0,dense:!0,onClick:function(){return t=n.id,void e.onChange(j.a.xor(e.note.labels,[t]));var t}},l.a.createElement(R.a,{className:"list-item-icon text-16",color:"action"},e.note.labels.includes(n.id)?"check_box":"check_box_outline_blank"),l.a.createElement(de.a,{className:"truncate pl-8",primary:n.name,disableTypography:!0}))})))))};function fe(e){var t=Object(n.useState)(!1),a=Object(L.a)(t,2),c=a[0],i=a[1],o=Object(P.b)(j.a.merge({},new K,e.note,e.match.params.labelId?{labels:[e.match.params.labelId]}:null,"archive"===e.match.params.id?{archive:!0}:null)),s=o.form,m=o.handleChange,u=o.setForm,d=e.onChange;function p(t){e.onCreate&&e.onCreate(s)}function f(){return""===s.title&&""===s.image&&""===s.description&&0===s.checklist.length}return Object(P.d)(function(){s&&d&&d(s)},[s,d]),s?l.a.createElement("div",{className:"flex flex-col w-full"},l.a.createElement(r.t,{className:"flex flex-auto w-full max-h-640"},l.a.createElement("div",{className:"w-full"},s.image&&""!==s.image&&l.a.createElement("div",{className:"relative"},l.a.createElement("img",{src:s.image,className:"w-full block",alt:"note"}),l.a.createElement(_.a,{className:"absolute right-0 bottom-0 m-8",variant:"extended",size:"small",color:"secondary","aria-label":"Delete Image",onClick:function(){u(j.a.setIn(s,"image",""))}},l.a.createElement(R.a,{fontSize:"small"},"delete"))),l.a.createElement("div",{className:"p-16 pb-12"},l.a.createElement(M.a,{className:"font-bold",placeholder:"Title",type:"text",name:"title",value:s.title,onChange:m,disableUnderline:!0,fullWidth:!0})),l.a.createElement("div",{className:"p-16 pb-12"},l.a.createElement(M.a,{placeholder:"Take a note...",multiline:!0,rows:"4",name:"description",value:s.description,onChange:m,disableUnderline:!0,fullWidth:!0,autoFocus:!0})),(s.checklist.length>0||c)&&l.a.createElement("div",{className:"px-16"},l.a.createElement(re,{checklist:s.checklist,onCheckListChange:function(e){u(j.a.setIn(s,"checklist",e))}})),(s.labels||s.reminder||s.time)&&l.a.createElement("div",{className:"flex flex-wrap w-full p-16 pb-12"},s.reminder&&l.a.createElement(J,{className:"mt-4 mr-4",date:s.reminder}),s.labels&&s.labels.map(function(e){return l.a.createElement(Z,{id:e,key:e,className:"mt-4 mr-4",onDelete:function(){return function(e){u(j.a.setIn(s,"labels",s.labels.filter(function(t){return t!==e})))}(e)}})}),s.time&&l.a.createElement(U.a,{color:"textSecondary",className:"text-12 ml-auto mt-8 mr-4"},"Edited: ",G()(s.time).format("MMM DD YY, h:mm A"))))),l.a.createElement("div",{className:"flex flex-auto justify-between items-center h-48"},l.a.createElement("div",{className:"flex items-center px-4"},l.a.createElement(B.a,{title:"Remind me",placement:"bottom"},l.a.createElement("div",null,l.a.createElement(oe,{reminder:s.reminder,onChange:function(e){u(j.a.setIn(s,"reminder",e))}}))),l.a.createElement(B.a,{title:"Add image",placement:"bottom"},l.a.createElement("div",null,l.a.createElement(se,{onChange:function(e){var t=e.target.files[0];if(t){var a=new FileReader;a.readAsBinaryString(t),a.onload=function(){u(j.a.setIn(s,"image","data:".concat(t.type,";base64,").concat(btoa(a.result))))},a.onerror=function(){console.log("error on load image")}}}}))),l.a.createElement(B.a,{title:"Add checklist",placement:"bottom"},l.a.createElement(F.a,{className:"w-32 h-32 mx-4 p-0",onClick:function(){i(!c)}},l.a.createElement(R.a,{fontSize:"small"},"playlist_add_check"))),l.a.createElement(B.a,{title:"Change labels",placement:"bottom"},l.a.createElement("div",null,l.a.createElement(pe,{note:s,onChange:function(e){u(j.a.setIn(s,"labels",e))}}))),l.a.createElement(B.a,{title:s.archive?"Unarchive":"Archive",placement:"bottom"},l.a.createElement("div",null,l.a.createElement(F.a,{className:"w-32 h-32 mx-4 p-0",onClick:function(){u(j.a.setIn(s,"archive",!s.archive)),"new"===e.variant&&setTimeout(function(){return p()})},disabled:f()},l.a.createElement(R.a,{fontSize:"small"},s.archive?"unarchive":"archive"))))),l.a.createElement("div",{className:"flex items-center px-4"},"new"===e.variant?l.a.createElement(H.a,{className:"m-4",onClick:p,variant:"outlined",size:"small",disabled:f()},"Create"):l.a.createElement(n.Fragment,null,l.a.createElement(B.a,{title:"Delete Note",placement:"bottom"},l.a.createElement(F.a,{className:"w-32 h-32 mx-4 p-0",onClick:e.onRemove},l.a.createElement(R.a,{fontSize:"small"},"delete"))),l.a.createElement(H.a,{className:"m-4",onClick:e.onClose,variant:"outlined",size:"small"},"Close"))))):null}fe.defaultProps={variant:"edit",note:null};var be=Object(Y.h)(fe),he=l.a.forwardRef(function(e,t){return l.a.createElement(D.a,Object.assign({direction:"up",ref:t},e))});var Ee=function(e){var t=Object(c.b)(),a=Object(c.c)(function(e){return e.notesApp.notes}),n=Object(P.a)(function(e){t(function(e){var t=s.a.post("/api/notes-app/update-note",{note:e});return function(e){return t.then(function(t){return e({type:b,note:t.data})})}}(e))},600);return a.entities?l.a.createElement(z.a,{classes:{paper:"w-full m-24 rounded-8"},TransitionComponent:he,onClose:function(e){return t(v())},open:Boolean(a.noteDialogId)},l.a.createElement(be,{note:a.entities[a.noteDialogId],onChange:n,onClose:function(e){return t(v())},onRemove:function(){t(function(e){var t=s.a.post("/api/notes-app/remove-note",{noteId:e});return function(a){return t.then(function(){a({type:h,id:e})})}}(a.noteDialogId))}})):null};var ve=function(e){var t=e||{};return{id:t.id||r.z.generateGUID(),name:t.name||"",get handle(){return r.z.handleize(this.name)}}};var ye=function(e){var t=Object(c.b)(),a=Object(c.c)(function(e){return e.notesApp.labels.entities}),r=Object(n.useState)(a),i=Object(L.a)(r,2),o=i[0],m=i[1],u=Object(P.b)({name:""}),d=u.form,p=u.handleChange,f=u.resetForm;Object(n.useEffect)(function(){m(a)},[a]);var b=Object(P.a)(function(e){t(function(e){var t=s.a.post("/api/notes-app/update-labels",{labels:Object.values(e)});return function(e){return t.then(function(t){return e({type:O,payload:t.data})})}}(e))},600);function h(){return""===d.name}return Object(n.useEffect)(function(){o&&!j.a.isEqual(o,a)&&b(o)},[b,a,o]),l.a.createElement(l.a.Fragment,null,l.a.createElement(U.a,{className:"text-16 mb-8 font-600"},"Edit Labels"),l.a.createElement($.a,{dense:!0},l.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),!h()){var t=new ve(d);m(j.a.setIn(o,t.id,t)),f()}}},l.a.createElement(ee.a,{className:"p-0 mb-16",dense:!0},l.a.createElement(R.a,{className:"list-item-icon text-16",color:"action"},"add"),l.a.createElement(M.a,{className:Object(q.a)("flex flex-1 mx-8"),name:"name",value:d.name,onChange:p,placeholder:"Create new label"}),l.a.createElement(F.a,{className:"w-32 h-32 mx-4 p-0","aria-label":"Delete",disabled:h(),type:"submit"},l.a.createElement(R.a,{fontSize:"small"},"check")))),Object(n.useMemo)(function(){return Object.entries(o).map(function(e){var t=Object(L.a)(e,2),a=(t[0],t[1]);return l.a.createElement(ee.a,{className:"p-0",key:a.id,dense:!0},l.a.createElement(R.a,{className:"list-item-icon text-16",color:"action"},"label"),l.a.createElement(M.a,{className:Object(q.a)("flex flex-1 mx-8"),name:"name",value:a.name,onChange:function(e){return function(e,t){var a=new ve(j.a.setIn(t,e.target.name,e.target.value));m(j.a.setIn(o,a.id,a))}(e,a)},disableUnderline:!0}),l.a.createElement(F.a,{className:"w-32 h-32 mx-4 p-0","aria-label":"Delete",onClick:function(e){return function(e){m(j.a.omit(o,[e.id]))}(a)}},l.a.createElement(R.a,{fontSize:"small"},"delete")))})},[o])))};var ge=function(e){var t=Object(c.b)(),a=Object(c.c)(function(e){return e.notesApp.labels.labelsDialogOpen});return l.a.createElement(z.a,{classes:{paper:"w-full max-w-320 p-16 m-24 rounded-8"},onClose:function(e){return t({type:x})},open:a},l.a.createElement(ye,null))},xe=a(1428),Oe=a.n(xe),Ne=a(999),Ce={1:{fontSize:14,lineHeight:19},2:{fontSize:18,lineHeight:28},3:{fontSize:24,lineHeight:36},4:{fontSize:36,lineHeight:48},5:{fontSize:48,lineHeight:60}};var ke=function(e,t,a){if(t){t.style.fontSize=null,t.style.lineHeight=null;var n=t.clientWidth;if(0!==n&&a){var l,r=document.createElement("div");r.style.display="inline-block",r.style.fontSize="10px",r.style.fontWeight="200",r.style.lineHeight="10px",r.style.position="absolute",r.style.whiteSpace="pre-wrap",r.style.wordWrap="break-word",r.style.pointerEvents="none",r.style.visibility="hidden",document.body.appendChild(r);var c=e.split(" ").map(function(e){return r.textContent=e.toString(),r.clientWidth}),i=Math.max.apply(Math,c),o=Math.floor(10*n/i);o<18?l=1:18<=o&&o<24?l=2:24<=o&&o<36?l=3:36<=o&&o<48?l=4:o>=48&&(l=5);var s=Ce[l],m=s.lineHeight,u=s.fontSize;r.textContent=e,r.style.width=n+"px",r.style.fontSize=u+"px",r.style.lineHeight=m+"px";var d=r.clientHeight/m;4<d&&d<6?l=4:6<=d&&d<9?l=3:9<=d&&d<11?l=2:11<=d&&(l=1),document.body.removeChild(r),m=Ce[l].lineHeight,u=Ce[l].fontSize,t.style.fontSize=u+"px",t.style.lineHeight=m+"px"}}};var je=function(e){var t=Object(c.b)();return l.a.createElement(r.d,{animation:"transition.fadeIn",duration:400,delay:100},l.a.createElement(Ne.a,{className:Object(q.a)("cursor-pointer",e.className),onClick:function(){return t((a=e.note.id,{type:d,payload:a}));var a}},e.note.image&&""!==e.note.image&&l.a.createElement("img",{src:e.note.image,className:"w-full block",alt:"note"}),e.note.title&&""!==e.note.title&&l.a.createElement(U.a,{className:"p-16 pb-8 text-14 font-bold"},e.note.title),e.note.description&&""!==e.note.description&&l.a.createElement(U.a,{className:"py-8 px-16",component:"div"},l.a.createElement("div",{className:Object(q.a)("w-full break-words",e.variateDescSize?"font-200":"text-14"),ref:function(t){setTimeout(function(){return ke(e.note.description,t,e.variateDescSize)})}},e.note.description)),e.note.checklist&&e.note.checklist.length>0&&l.a.createElement("ul",{className:"py-8 px-16 flex flex-wrap list-reset"},e.note.checklist.map(function(e){return l.a.createElement("li",{key:e.id,className:"flex items-center w-full"},l.a.createElement(R.a,{color:"action",className:"mr-8 text-16"},e.checked?"check_box_outline":"check_box_outline_blank"),l.a.createElement(U.a,{className:Object(q.a)("truncate",e.checked&&"line-through"),color:e.checked?"textSecondary":"inherit"},e.text))})),(e.note.labels.length>0||e.note.reminder)&&l.a.createElement("div",{className:"py-8 px-16 flex flex-wrap w-full"},e.note.reminder&&l.a.createElement(J,{className:"mt-4 mr-4",date:e.note.reminder}),e.note.labels.map(function(e){return l.a.createElement(Z,{id:e,key:e,className:"mt-4 mr-4",linkable:!0})}))))};var we=Object(Y.h)(function(e){var t=Object(c.c)(function(e){return e.notesApp.notes.entities}),a=Object(c.c)(function(e){return e.notesApp.notes.variateDescSize}),i=Object(c.c)(function(e){return e.notesApp.notes.searchText}),o=Object(n.useState)(null),s=Object(L.a)(o,2),m=s[0],u=s[1];return Object(n.useEffect)(function(){t&&u(function(){var a=e.match.params,n=a.id,l=a.labelId,c=Object.keys(t).map(function(e){return t[e]});return l&&(c=c.filter(function(e){return e.labels.includes(l)&&!e.archive})),n||(c=c.filter(function(e){return!e.archive})),"archive"===n&&(c=c.filter(function(e){return e.archive})),"reminders"===n&&(c=c.filter(function(e){return Boolean(e.reminder)&&!e.archive})),0===i.length?c:c=r.z.filterArrayByString(c,i)}())},[t,i,e.match]),m&&0!==m.length?l.a.createElement("div",{className:"flex flex-wrap w-full"},l.a.createElement(Oe.a,{breakpointCols:{default:6,1920:5,1600:4,1366:3,1280:4,960:3,600:2,480:1},className:"my-masonry-grid flex w-full",columnClassName:"my-masonry-grid_column flex flex-col p-8"},m.map(function(e){return l.a.createElement(je,{key:e.id,note:e,className:"w-full rounded-8 shadow-none border-1 mb-16",variateDescSize:a})}))):l.a.createElement("div",{className:"flex items-center justify-center h-full"},l.a.createElement(U.a,{color:"textSecondary",variant:"h5"},"There are no notes!"))}),Se=a(1015),Ae=a(1028),Ie=Object(Ae.a)(function(e){return{root:{},inputWrapper:{backgroundColor:e.palette.primary.dark}}});function Te(e){var t=Object(c.b)(),a=Object(c.c)(function(e){return e.notesApp.notes.searchText}),r=Ie(e),i=Object(n.useState)(!1),o=Object(L.a)(i,2),s=o[0],m=o[1];function d(){m(!1),t({type:u,searchText:""}),document.removeEventListener("keydown",p,!1)}function p(e){27===e.keyCode&&d()}return l.a.createElement("div",{className:Object(q.a)(r.root,"flex",e.className)},l.a.createElement(B.a,{title:"Click to search",placement:"bottom"},l.a.createElement("div",{onClick:function(){m(!0),document.addEventListener("keydown",p,!1)}},e.trigger)),s&&l.a.createElement(ue.a,{onClickAway:function(){d()}},l.a.createElement("div",{className:Object(q.a)(r.inputWrapper,"absolute left-0 right-0 top-0 bottom-0 h-full z-9999 px-8 sm:px-24")},l.a.createElement("div",{className:"flex items-center w-full h-full"},l.a.createElement(M.a,{placeholder:"Search for anything",className:"flex flex-1 py-0 pr-16 h-64",disableUnderline:!0,fullWidth:!0,value:a,inputProps:{"aria-label":"Search"},onChange:function(e){return t({type:u,searchText:e.target.value})},autoFocus:!0}),l.a.createElement(F.a,{onClick:d,className:"mx-8"},l.a.createElement(R.a,null,"close"))))))}Te.defaultProps={trigger:l.a.createElement(F.a,{className:"w-64 h-64"},l.a.createElement(R.a,null,"search"))};var De=Te;var ze=function(e){var t=Object(c.b)(),a=Object(c.c)(function(e){return e.notesApp.notes.variateDescSize});return l.a.createElement("div",{className:"flex flex-1 items-center justify-between p-8 sm:p-24 relative"},l.a.createElement("div",{className:"flex flex-shrink items-center sm:w-224"},l.a.createElement(Se.a,{lgUp:!0},l.a.createElement(F.a,{onClick:function(t){return e.pageLayout.current.toggleLeftSidebar()},"aria-label":"open left sidebar"},l.a.createElement(R.a,null,"menu"))),l.a.createElement("div",{className:"flex items-center"},l.a.createElement(r.d,{animation:"transition.expandIn",delay:300},l.a.createElement(R.a,{className:"text-32 mr-12"},"account_box")),l.a.createElement(r.d,{animation:"transition.slideLeftIn",delay:300},l.a.createElement(U.a,{variant:"h6",className:"hidden sm:flex"},"Notes")))),l.a.createElement("div",{className:"flex flex-1 items-center justify-end"},l.a.createElement(B.a,{title:"Toggle Variate Description Size"},l.a.createElement(F.a,{onClick:function(e){return t({type:E})}},l.a.createElement(R.a,{color:a?"action":"disabled"},"format_size"))),l.a.createElement(De,null)))},Pe=a(150),Le=a(995),_e=a(994),Re=Object(Ae.a)(function(e){return{paper:Object(C.a)({},e.breakpoints.down("md"),{boxShadow:"none"}),listItem:{color:"inherit!important",textDecoration:"none!important",height:40,width:"calc(100% - 16px)",borderRadius:"0 20px 20px 0",paddingLeft:24,paddingRight:12,"&.active":{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText+"!important",pointerEvents:"none","& .list-item-icon":{color:"inherit"}},"& .list-item-icon":{marginRight:16}}}});var Me=function(e){var t=Object(c.b)(),a=Object(c.c)(function(e){return e.notesApp.labels.entities}),n=Re(e);return l.a.createElement("div",{className:"py-24 lg:p-24 lg:pr-4"},l.a.createElement(r.d,{animation:"transition.slideLeftIn",delay:200},l.a.createElement(Pe.a,{elevation:1,className:Object(q.a)(n.paper,"rounded-8")},l.a.createElement($.a,null,l.a.createElement(ee.a,{button:!0,component:r.A,to:"/apps/notes",exact:!0,activeClassName:"active",className:n.listItem},l.a.createElement(R.a,{className:"list-item-icon text-16",color:"action"},"label"),l.a.createElement(de.a,{className:"truncate pr-0",primary:"Notes",disableTypography:!0})),l.a.createElement(ee.a,{button:!0,component:r.A,to:"/apps/notes/reminders",exact:!0,activeClassName:"active",className:n.listItem},l.a.createElement(R.a,{className:"list-item-icon text-16",color:"action"},"notifications"),l.a.createElement(de.a,{className:"truncate pr-0",primary:"Reminders",disableTypography:!0}))),l.a.createElement(Le.a,null),l.a.createElement($.a,null,l.a.createElement(_e.a,null,"Labels"),Object.entries(a).map(function(e){var t=Object(L.a)(e,2),a=(t[0],t[1]);return l.a.createElement(ee.a,{key:a.id,button:!0,component:r.A,to:"/apps/notes/labels/".concat(a.handle,"/").concat(a.id),exact:!0,activeClassName:"active",className:n.listItem},l.a.createElement(R.a,{className:"list-item-icon text-16",color:"action"},"label"),l.a.createElement(de.a,{className:"truncate pr-0",primary:a.name,disableTypography:!0}))}),l.a.createElement(ee.a,{button:!0,className:n.listItem,onClick:function(e){return t({type:g})}},l.a.createElement(R.a,{className:"list-item-icon text-16",color:"action"},"edit"),l.a.createElement(de.a,{className:"truncate pr-0",primary:"Edit Labels",disableTypography:!0}))),l.a.createElement(Le.a,null),l.a.createElement($.a,null,l.a.createElement(ee.a,{button:!0,component:r.A,to:"/apps/notes/archive",activeClassName:"active",className:n.listItem},l.a.createElement(R.a,{className:"list-item-icon text-16",color:"action"},"archive"),l.a.createElement(de.a,{className:"truncate pr-0",primary:"Archive",disableTypography:!0}))))))},Ue=Object(Ae.a)({button:{cursor:"text"}});var Be=function(e){var t=Object(c.b)(),a=Ue(e),r=Object(n.useState)(!1),i=Object(L.a)(r,2),o=i[0],m=i[1];function u(){o&&(m(!1),document.removeEventListener("keydown",d,!1))}function d(e){27===e.keyCode&&u()}return l.a.createElement(ue.a,{onClickAway:function(e){var t=document.querySelector(".prevent-add-close");t&&t.contains(e.target)||u()}},l.a.createElement(Pe.a,{className:Object(q.a)(a.button,"flex items-center w-full max-w-512 mt-8 mb-16 min-h-48"),elevation:1},o?l.a.createElement(be,{onCreate:function(e){t(function(e){var t=s.a.post("/api/notes-app/create-note",{note:e});return function(e){return t.then(function(t){e({type:f,note:t.data})})}}(e)),u()},variant:"new"}):l.a.createElement(U.a,{className:"w-full px-16 py-12 font-500 text-16 w-full",color:"textSecondary",onClick:function(){m(!0),document.addEventListener("keydown",d,!1)}},"Take a note..")))};t.default=Object(i.a)("notesApp",T)(function(e){var t=Object(c.b)(),a=Object(n.useRef)(null);return Object(n.useEffect)(function(){t(function(){var e=s.a.get("/api/notes-app/notes");return function(t){return e.then(function(e){return t({type:m,payload:e.data})})}}()),t(function(){var e=s.a.get("/api/notes-app/labels");return function(t){return e.then(function(e){return t({type:y,payload:e.data})})}}())},[t]),l.a.createElement(l.a.Fragment,null,l.a.createElement(r.s,{classes:{contentWrapper:"p-16 sm:p-24 pb-80",content:"flex min-h-full",leftSidebar:"w-256 border-0",header:"min-h-72 h-72"},header:l.a.createElement(ze,{pageLayout:a}),content:l.a.createElement("div",{className:"flex flex-col w-full items-center"},l.a.createElement(Be,null),l.a.createElement(we,null),l.a.createElement(Ee,null),l.a.createElement(ge,null)),leftSidebarContent:l.a.createElement(Me,null),sidebarInner:!0,ref:a,innerScroll:!0}))})}}]);